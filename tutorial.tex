\documentclass[addpoints,12pt,a4paper]{article}

\PassOptionsToPackage{pdftex}{graphicx}
\usepackage{graphicx}   
\usepackage[sfdefault,condensed]{cabin}       
\usepackage[T1]{fontenc} 
\usepackage[brazil]{babel}
\usepackage{epstopdf}
\usepackage{soul}
\usepackage{array}
\usepackage[table]{xcolor}  % 'table' option loads »colortbl«
\usepackage{subfig}
\RequirePackage[numbers]{natbib}

\newcommand{\CEFETdisciplina}{Introdução ao Rascal Robix}
\newcommand{\CEFETprofessor}{André Malta e Elias Luiz}

% aumentando as margens originais do documento
\usepackage{microtype} %melhor divisao de espaco entre letras/palavras
% aumentando as margens originais do documento
%\addtolength{\hoffset}{-1.5cm}
\addtolength{\textwidth}{2cm}
\addtolength{\hoffset}{-1cm}
\addtolength{\textheight}{-2cm}


%Para algoritmos ---------------------- 
\usepackage{listings}
\usepackage{color}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{bg}{rgb}{0.95,0.95,0.95}
\lstset{ 
  language=Octave,                % the language of the code
  basicstyle=\footnotesize,       % the size of the fonts that are used for the code
  numbers=left,                   % where to put the line-numbers
  numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
  stepnumber=1,                   % the step between two line-numbers. If it's 1, each line 
                                  % will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  %backgroundcolor=\color{bg},    % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=4,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                 % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{blue}, %blue     % keyword style
  commentstyle=\color{dkgreen}, %dkgreen   % comment style
  stringstyle=\color{mauve}, %mauve      % string literal style
  escapeinside={\%*}{*)},         % if you want to add a comment within your code
  morekeywords={*,...}            % if you want to add more keywords to the set
}
%--------------------------------------
 

\usepackage{lastpage}
\newcommand*{\renameenviron}[1]{%
  \expandafter\let\csname exam-#1\expandafter\endcsname\csname #1\endcsname
  \expandafter\let\csname endexam-#1\expandafter\endcsname\csname end#1\endcsname
  \expandafter\let\csname #1\endcsname\relax
  \expandafter\let\csname end#1\endcsname\relax
}
\renameenviron{lhead}
\renameenviron{chead}
\renameenviron{rhead}
\renameenviron{lfoot}
\renameenviron{cfoot}
\renameenviron{rfoot}

% paragrafos
\setlength{\parskip}{.5cm}
\setlength{\parindent}{0pt}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancypagestyle{firstpage}{%
  \fancyhf{}%
  \fancyhead[L]{\includegraphics[width=3.6cm]{images/_logo.eps}\vspace{.3cm}}
  \fancyhead[R]{
	    \textbf{CENTRO FEDERAL DE EDUCAÇÃO TECNOLÓGICA DE 	    
	    MINAS GERAIS}\\CAMPUS VII - UNIDADE TIMÓTEO - Engenharia 
	    da Computação\\\vspace{.3cm}\CEFETdisciplina\\\CEFETprofessor\\\vspace{-.3cm}
  }
  \renewcommand{\headheight}{85pt}
}  
\fancypagestyle{otherpage}{%
  \fancyhf{}%
  \renewcommand{\footrulewidth}{1pt}
  \renewcommand{\headrulewidth}{1pt}
  \fancyhead[R]{\CEFETdisciplina\\
    \CEFETprofessor\\\vspace{-.3cm}
  }
  \renewcommand{\headheight}{45pt}
  \addtolength{\textheight}{50pt}
}  


\newcommand{\CEFETtitulo}[1]{
\begin{center}
\begin{Large}
\textbf{\\#1\\}
\end{Large}
\end{center}
\vspace{.5cm}
}

\newcommand{\CEFETsubtitulo}[1]{
\begin{center}
\begin{large}
\textbf{#1\\}
\end{large}
\end{center}
}
 

\newcommand{\CEFETopen}{
    \selectlanguage{brazil}
    \pagestyle{otherpage}
    \thispagestyle{firstpage}
}
    
     

\begin{document}
	\CEFETopen
    \CEFETtitulo{Introdução ao Rascal Robix:\\Usando a biblioteca Robix.h}


\section{Introdução}

Este material visa fazer uma introdução ao kit Rascal Robix. Para isso, será explicado como deve ser realizada a montagem, como funciona a linguagem de script e como conectar um programa C++ ao robô.

O kit Rascal Robix foi projetado para permitir a estudantes uma introdução gentil à robótica, já que muitas tarefas trabalhosas são abstraídas no processo. O estudante então mantém seu foco somente na montagem do robô e criação dos scripts que este executará em uma linguagem simplificada.

Junto ao kit está presente um CD-ROM contendo os instaladores para os programas \textit{Usbor Nexus} e \textit{Usbor Nexway}. Esses programas podem ser também obtidos no site www.robix.com/downloads.

O \textit{Usbor Nexus} (referenciado a partir deste momento como Nexus) é u software que recebe pacotes via protocolo TCP/IP contendo os scripts a serem executados e os processa, enviando através do cabo USB os comandos para a placa \textit{Usbor}. Esse programa é essencial para a utilização do kit e deve sempre estar executando na máquina na qual a placa está conectada. Caso contrário, não é possível enviar os comandos para esta, já que o programa faz o papel de \textit{driver}, convertendo os comandos da linguagem nos sinais adequados para a placa.

\newpage
\begin{figure}[h]
	\centering
	\includegraphics[width=0.4\textwidth]{images/nexus.png}
	\caption[]{Usbor Nexus}
	\label{fig:nexus}
\end{figure}


Já o \textit{Usbor Nexway} tem o papel de servir como interface para o usuário executar scripts, tanto localmente quanto em rede. Através de uma interface gráfica ele exibe informações sobre o estado atual dos componentes e permite a edição, execução e interrupção de comandos.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.4\textwidth]{images/nexway.png}
	\caption[]{Usbor Nexway}
	\label{fig:nexway}
\end{figure}

Os componentes são conectados à placa \textit{Usbor}, que os alimenta e transforma as informações enviadas pelo cabo USB em sinais elétricos.

%\begin{figure}[h]
%	\centering
%	\includegraphics[width=0.45\textwidth]{images/placa.png}
%	\caption[]{Controlador Usbor}
%	\label{fig:placa1}
%\end{figure}


\newpage
\section{Montando o primeiro robô}

Primeiramente deve ser notado que enquanto houver alimentação para o robô, ou seja, a placa estiver ligada à rede elétrica, deve se tomar cuidado pois este pode se mover subitamente. Quando iniciados, seja pela primeira vez ou após terem sido desligados via programação, todos os motores se deslocarão para suas posições iniciais (por padrão 0). Portante é extremamente recomendável que enquanto o robô estiver energizado os que todos se mantenham afastados, e caso precisem se aproximar procedam com extrema cautela e utilizem o óculos de proteção fornecido pelo kit.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.42\textwidth]{images/placa2.png}
	\caption[]{Elementos básicos do controlador Usbor}
	\label{fig:placa2}
\end{figure}

Para enviar os comandos para a placa utilizando o \textit{Nexus} a ligamos ao computador utilizado via cabo USB. Ao conectar, o \textit{Nexus} irá reconhecer a placa e movimentar os motores para suas posições iniciais, portanto recomenda-se se afastar das partes móveis do robô.

A montagem física do robô dependerá da função que ele deve exercer, ficando a cargo do usuário. Neste exemplo, montaremos um robô que simula uma cobra.
\bigskip
\bigskip

Componentes necessários:
\begin{itemize}
	\item 6 servos
	\item 4 estruturas de tamanho 4
	\item 2 estruturas de tamanho 5
	\item 1 estrutura de tamanho 3
\end{itemize}

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{images/cobra1.png}
	\caption[]{Esquema da montagem do robô}
	\label{fig:cobra1}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{images/cobra2.jpg}
	\caption[]{Robô montado}
	\label{fig:cobra2}
\end{figure}

Atenção para como os cabos foram encaixados na placa. De ``cima'' para ``baixo'' ficam os cabos amarelo, vermelho e preto. Da esquerda para a direita ficam os cabos para os motores 1 a 6. Neste exemplo o motor 1 é a ``cabeça'' da cobra, seguindo sequencialmente até a ``cauda'', o motor 6. 

A numeração dos motores irá interferir na programação, portanto os cabos devem ser ligados de forma conveniente e intuitiva. O mais simples é ligar de forma sequencial a partir da base do robô.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.75\textwidth]{images/cobracabos.jpg}
	\caption[]{Ligação dos cabos na placa}
	\label{fig:cobracabos}
\end{figure}

//////////////////SCRIPT COBRA///////////////////

\newpage
\section{Criando um programa em C++}

//////////////////PROGRAMA SCRIPT COBRA///////////////////
\newpage
\section{Braço Robótico}


\newpage
\section{Referência scripts Usbor}


\newpage
\section{Referência Robix.h}

\end{document}
